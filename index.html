<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>懿生楰你</title>
<style>
:root {
  --primary-color: #2b6cb0;
  --secondary-color: #e0e7ff;
  --sidebar-bg: #f8fafc;
  --sidebar-border: #e2e8f0;
}

body { 
  margin:0; 
  font-family:'Noto Sans TC',sans-serif; 
  display:flex; 
  height:100vh; 
  overflow-x:hidden;
  text-align:center;
}
.sidebar {
  height:100%; 
  width:0; 
  position:fixed; 
  top:0; 
  left:0; 
  background: var(--sidebar-bg); 
  overflow-x:hidden; 
  transition:0.3s; 
  border-right:1px solid var(--sidebar-border); 
  display:flex; 
  flex-direction:column; 
  align-items:center;
}
.sidebar img {margin-top:20px; width:80px; height:80px; border-radius:50%;}
.sidebar h2 {margin:10px 0 20px; color: var(--primary-color);}
.sidebar a {
  padding:10px 20px; 
  text-decoration:none; 
  font-size:18px; 
  color:#334155; 
  display:block; 
  width:100%; 
  text-align:center; 
  transition:0.2s;
}
.sidebar a:hover {background: var(--secondary-color); color: var(--primary-color);}
.main {flex:1; padding:40px 20px; margin-left:0; transition: margin-left 0.3s;}
.open-btn {
  position:fixed; top:20px; left:20px; 
  font-size:20px; 
  padding:10px 15px; 
  cursor:pointer; 
  background: var(--primary-color); 
  color:white; 
  border:none; 
  border-radius:8px; 
  z-index:300;
}
h1,h2,h3,h4,p {margin-bottom:12px; text-align:center;}
.grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:16px; justify-items:center;}
.card{background:#fff; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.05); padding:20px; width:100%; max-width:260px; cursor:pointer; transition:transform .2s; margin:0 auto;}
.card:hover{transform:translateY(-4px);}
.view{display:none;}
.tabs{display:flex; justify-content:center; gap:10px; margin:16px 0;}
.tab{padding:8px 12px; border-radius:8px; background:#f1f5f9; color:#334155; font-weight:600; cursor:pointer;}
.tab.active{background: var(--primary-color); color:white;}
.subsection{display:none;}
.subsection.active{display:block;}
.back-btn{display:inline-block;margin:8px 6px;padding:8px 14px;background: var(--secondary-color);color: var(--primary-color);border-radius:8px;text-decoration:none;font-weight:600;}
.rep-section{background: var(--secondary-color);padding:12px;border-radius:8px;margin:20px 0;}

/* Lightbox */
.lightbox-overlay {
  position: fixed;
  top:0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.8);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 500;
}
.lightbox-overlay img {
  max-width: 90%;
  max-height: 90%;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.5);
}

/* 手機優化 */
@media(max-width:768px){
  .main {padding:20px 10px;}
  .sidebar {width:200px;}
  .open-btn {top:10px; left:10px; font-size:18px;}
  .grid {grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px;}
}
</style>
</head>
<body>

<!-- 側邊欄 -->
<div id="mySidebar" class="sidebar">
  <img src="圖標.PNG" alt="Logo">
  <h2>懿生楰你</h2>
  <a href="#home" data-target="home">首頁</a>
  <a href="#characters" data-target="characters">人物介紹</a>
  <a href="#story" data-target="story">主線故事</a>
  <a href="#pas" data-target="pas">各種世界線</a>
  <a href="#gallery" data-target="gallery">圖片廊</a>
  <a href="#represent" data-target="represent">代表物</a>
</div>

<!-- 開啟按鈕 -->
<button class="open-btn" onclick="toggleSidebar()">☰</button>

<!-- 主內容 -->
<div class="main" id="mainContent">

  <!-- 首頁 -->
  <section id="home" class="view">
    <h1>首頁</h1>
    <p>內容</p>
  </section>

  <!-- 人物介紹 -->
  <section id="characters" class="view">
    <h2>人物介紹</h2>
    <div class="tabs">
      <div class="tab active" data-char="sima">司馬懿</div>
      <div class="tab" data-char="lin">林楰召</div>
    </div>

    <div id="char-sima" class="subsection active">
      <h3>司馬懿</h3>
      <div class="tabs">
        <div class="tab active" data-world="wei">王者榮耀</div>
        <div class="tab" data-world="modern">心動的王者</div>
        <div class="tab" data-world="shan">山海奇都</div>
      </div>
      <div id="sima-wei" class="subsection active">
        <p>內容</p>
      </div>
      <div id="sima-modern" class="subsection">
        <p>內容</p>
      </div>
      <div id="sima-shan" class="subsection">
        <p>內容</p>
      </div>
    </div>

    <div id="char-lin" class="subsection">
      <h3>林楰召</h3>
      <div class="tabs">
        <div class="tab active" data-world="lin-wei">王者榮耀</div>
        <div class="tab" data-world="lin-modern">心動的王者</div>
        <div class="tab" data-world="lin-shan">山海奇都</div>
      </div>
      <div id="lin-wei" class="subsection active">
        <p>內容</p>
      </div>
      <div id="lin-modern" class="subsection">
        <p>內容</p>
      </div>
      <div id="lin-shan" class="subsection">
        <p>內容</p>
      </div>
    </div>
  </section>

  <!-- 代表物 -->
  <section id="represent" class="view">
    <h2>代表物</h2>
    <div class="rep-section"><h4>司馬懿</h4><p>？</p></div>
    <div class="rep-section"><h4>林楰召</h4><p>？</p></div>
  </section>

  <!-- 主線故事 -->
  <section id="story" class="view">
    <h2>主線故事</h2>
    <div class="grid">
      <div class="card" data-chapter="1"><h3>第一章</h3><p>內容</p></div>
      <div class="card" data-chapter="2"><h3>第二章</h3><p>內容</p></div>
      <div class="card" data-chapter="3"><h3>第三章</h3><p>內容</p></div>
      <div class="card" data-chapter="4"><h3>第四章</h3><p>內容</p></div>
      <div class="card" data-chapter="5"><h3>第五章</h3><p>內容</p></div>
    </div>
  </section>

  <!-- 主線章節分頁 + 上下章按鈕 -->
  <section id="pa-1" class="view">
    <h2>第一章</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevChapter(event)">上一章</a>
      <a href="#story" class="back-btn">目錄</a>
      <a href="#" class="back-btn" onclick="nextChapter(event)">下一章</a>
      
    </div>
  </section>
  <section id="pa-2" class="view">
    <h2>第二章</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevChapter(event)">上一章</a>
      <a href="#story" class="back-btn">目錄</a>
      <a href="#" class="back-btn" onclick="nextChapter(event)">下一章</a>
    </div>
  </section>
  <section id="pa-3" class="view">
    <h2>第三章</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevChapter(event)">上一章</a>
      <a href="#story" class="back-btn">目錄</a>
      <a href="#" class="back-btn" onclick="nextChapter(event)">下一章</a>
    </div>
  </section>
  <section id="pa-4" class="view">
    <h2>第四章</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevChapter(event)">上一章</a>
      <a href="#story" class="back-btn">目錄</a>
      <a href="#" class="back-btn" onclick="nextChapter(event)">下一章</a>
    </div>
  </section>
  <section id="pa-5" class="view">
    <h2>第五章</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevChapter(event)">上一章</a>
      <a href="#story" class="back-btn">目錄</a>
      <a href="#" class="back-btn" onclick="nextChapter(event)">下一章</a>
    </div>
  </section>

<script>
  // 主線章節 JS 修正
  const mainChapters = ['pa-1','pa-2','pa-3','pa-4','pa-5'];

  function nextChapter(e){
    e.preventDefault();
    const current = location.hash.replace('#','');
    const idx = mainChapters.indexOf(current);
    if(idx >=0 && idx < mainChapters.length-1){
      location.hash = mainChapters[idx+1];
    }
  }

  function prevChapter(e){
    e.preventDefault();
    const current = location.hash.replace('#','');
    const idx = mainChapters.indexOf(current);
    if(idx > 0){
      location.hash = mainChapters[idx-1];
    }
  }

  // 點擊主線故事卡片進入章節
  document.querySelectorAll('#story .card').forEach(card => {
    card.addEventListener('click', ()=>{
      const chapterId = 'pa-' + card.dataset.chapter;
      if(mainChapters.includes(chapterId)){
        location.hash = chapterId; // 正確跳轉
      }
    });
  });
</script>

  <!-- 各種PA首頁 -->
  <section id="pas" class="view">
    <h2>各種世界線</h2>
    <div class="grid">
      <div class="card" data-pa="king"><h3>心動的王者</h3><p>內容</p></div>
      <div class="card" data-pa="shan"><h3>山海奇都</h3><p>內容</p></div>
      <div class="card" data-pa="magic"><h3>魔法世界</h3><p>內容</p></div>
      <div class="card" data-pa="palace"><h3>？</h3><p>內容</p></div>
    </div>
  </section>

  <!-- 各PA章節列表頁 -->
  <section id="pa-king" class="view">
    <h2>心動的王者 - 章節列表</h2>
    <div class="grid"></div>
    <a href="#pas" class="back-btn">其他世界線</a>
  </section>
  <section id="pa-shan" class="view">
    <h2>山海奇都 - 章節列表</h2>
    <div class="grid"></div>
    <a href="#pas" class="back-btn">其他世界線</a>
  </section>
  <section id="pa-magic" class="view">
    <h2>魔法世界 - 章節列表</h2>
    <div class="grid"></div>
    <a href="#pas" class="back-btn">其他世界線</a>
  </section>
  <section id="pa-palace" class="view">
    <h2>？ - 章節列表</h2>
    <div class="grid"></div>
    <a href="#pas" class="back-btn">其他世界線</a>
  </section>

  <!-- 章節內容頁 (心動的王者) -->
  <section id="pa-king-1" class="view">
    <h2>心動的王者 - 章節1</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevPAChapter('king')">上一章</a>
      <a href="#" class="back-btn" onclick="nextPAChapter('king')">下一章</a>
      <a href="#pa-king" class="back-btn">返回章節列表</a>
    </div>
  </section>
  <section id="pa-king-2" class="view">
    <h2>心動的王者 - 章節2</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevPAChapter('king')">上一章</a>
      <a href="#" class="back-btn" onclick="nextPAChapter('king')">下一章</a>
      <a href="#pa-king" class="back-btn">返回章節列表</a>
    </div>
  </section>
  <section id="pa-king-3" class="view">
    <h2>心動的王者 - 章節3</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevPAChapter('king')">上一章</a>
      <a href="#" class="back-btn" onclick="nextPAChapter('king')">下一章</a>
      <a href="#pa-king" class="back-btn">返回章節列表</a>
    </div>
  </section>

    <!-- 山海奇都章節 -->
  <section id="pa-shan-1" class="view">
    <h2>山海奇都 - 章節1</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevPAChapter('shan')">上一章</a>
      <a href="#" class="back-btn" onclick="nextPAChapter('shan')">下一章</a>
      <a href="#pa-shan" class="back-btn">返回章節列表</a>
    </div>
  </section>
  <section id="pa-shan-2" class="view">
    <h2>山海奇都 - 章節2</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevPAChapter('shan')">上一章</a>
      <a href="#" class="back-btn" onclick="nextPAChapter('shan')">下一章</a>
      <a href="#pa-shan" class="back-btn">返回章節列表</a>
    </div>
  </section>
  <section id="pa-shan-3" class="view">
    <h2>山海奇都 - 章節3</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevPAChapter('shan')">上一章</a>
      <a href="#" class="back-btn" onclick="nextPAChapter('shan')">下一章</a>
      <a href="#pa-shan" class="back-btn">返回章節列表</a>
    </div>
  </section>

  <!-- 魔法世界章節 -->
  <section id="pa-magic-1" class="view">
    <h2>魔法世界 - 章節1</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevPAChapter('magic')">上一章</a>
      <a href="#" class="back-btn" onclick="nextPAChapter('magic')">下一章</a>
      <a href="#pa-magic" class="back-btn">返回章節列表</a>
    </div>
  </section>
  <section id="pa-magic-2" class="view">
    <h2>魔法世界 - 章節2</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevPAChapter('magic')">上一章</a>
      <a href="#" class="back-btn" onclick="nextPAChapter('magic')">下一章</a>
      <a href="#pa-magic" class="back-btn">返回章節列表</a>
    </div>
  </section>
  <section id="pa-magic-3" class="view">
    <h2>魔法世界 - 章節3</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevPAChapter('magic')">上一章</a>
      <a href="#" class="back-btn" onclick="nextPAChapter('magic')">下一章</a>
      <a href="#pa-magic" class="back-btn">返回章節列表</a>
    </div>
  </section>

  <!-- 宮廷章節 -->
  <section id="pa-palace-1" class="view">
    <h2>宮廷 - 章節1</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevPAChapter('palace')">上一章</a>
      <a href="#" class="back-btn" onclick="nextPAChapter('palace')">下一章</a>
      <a href="#pa-palace" class="back-btn">返回章節列表</a>
    </div>
  </section>
  <section id="pa-palace-2" class="view">
    <h2>宮廷 - 章節2</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevPAChapter('palace')">上一章</a>
      <a href="#" class="back-btn" onclick="nextPAChapter('palace')">下一章</a>
      <a href="#pa-palace" class="back-btn">返回章節列表</a>
    </div>
  </section>
  <section id="pa-palace-3" class="view">
    <h2>宮廷 - 章節3</h2>
    <p>內容</p>
    <div class="pa-nav">
      <a href="#" class="back-btn" onclick="prevPAChapter('palace')">上一章</a>
      <a href="#" class="back-btn" onclick="nextPAChapter('palace')">下一章</a>
      <a href="#pa-palace" class="back-btn">返回章節列表</a>
    </div>
  </section>

  <!-- 圖片廊 -->
  <section id="gallery" class="view">
    <h2>圖片廊</h2>
    <p>內容</p>
    <div class="grid">
      <div class="card"><img src="https://placekitten.com/300/200" alt="示意圖1"></div>
      <div class="card"><img src="https://placekitten.com/301/200" alt="示意圖2"></div>
      <div class="card"><img src="https://placekitten.com/302/200" alt="示意圖3"></div>
      <div class="card"><img src="https://placekitten.com/303/200" alt="示意圖4"></div>
    </div>
  </section>

<script>
  // 各PA章節資料
  const paChapters = {
    'king': [
      {id:'pa-king-1', title:'章節1'},
      {id:'pa-king-2', title:'章節2'},
      {id:'pa-king-3', title:'章節3'}
    ],
    'shan': [
      {id:'pa-shan-1', title:'章節1'},
      {id:'pa-shan-2', title:'章節2'},
      {id:'pa-shan-3', title:'章節3'}
    ],
    'magic': [
      {id:'pa-magic-1', title:'章節1'},
      {id:'pa-magic-2', title:'章節2'},
      {id:'pa-magic-3', title:'章節3'}
    ],
    'palace': [
      {id:'pa-palace-1', title:'章節1'},
      {id:'pa-palace-2', title:'章節2'},
      {id:'pa-palace-3', title:'章節3'}
    ]
  };

  // 動態生成章節卡片
  Object.keys(paChapters).forEach(pa=>{
    const container = document.getElementById('pa-'+pa);
    const grid = container.querySelector('.grid');
    paChapters[pa].forEach(ch=>{
      const card = document.createElement('div');
      card.className = 'card';
      card.textContent = ch.title;
      card.addEventListener('click', ()=> location.hash = ch.id);
      grid.appendChild(card);
    });
  });

  // PA章節上下章
  function nextPAChapter(pa){
    const current = location.hash.replace('#','');
    const idx = paChapters[pa].findIndex(c=>c.id===current);
    if(idx>=0 && idx<paChapters[pa].length-1) location.hash = paChapters[pa][idx+1].id;
  }
  function prevPAChapter(pa){
    const current = location.hash.replace('#','');
    const idx = paChapters[pa].findIndex(c=>c.id===current);
    if(idx>0) location.hash = paChapters[pa][idx-1].id;
  }

  // 點擊PA首頁卡片進入章節列表
  document.querySelectorAll('#pas .card').forEach(card=>{
    card.addEventListener('click', ()=>{
      const pa = card.dataset.pa;
      location.hash = 'pa-'+pa;
    });
  });
  // 當 hash 改變時，顯示對應章節、隱藏其他
window.addEventListener('hashchange', showSectionFromHash);
window.addEventListener('DOMContentLoaded', showSectionFromHash);

function showSectionFromHash(){
  const current = location.hash.replace('#','');
  document.querySelectorAll('section.view').forEach(sec=>{
    if(sec.id === current){
      sec.style.display = 'block';
    } else {
      sec.style.display = 'none';
    }
  });
}

</script>


<script>
  // 側邊欄開關
  let sidebarOpen = false;
  function toggleSidebar() {
    const sidebar = document.getElementById("mySidebar");
    const main = document.getElementById("mainContent");
    if(!sidebarOpen){
      sidebar.style.width="250px";
      main.style.marginLeft="250px";
    } else {
      sidebar.style.width="0";
      main.style.marginLeft="0";
    }
    sidebarOpen=!sidebarOpen;
  }

  // hash route 導覽
  const navLinks = document.querySelectorAll('a[data-target]');
  const views = document.querySelectorAll('.view');

  function showView(target){
    views.forEach(v=>v.style.display = v.id===target?'block':'none');
    navLinks.forEach(a=>a.classList.toggle('active', a.dataset.target===target));
    window.scrollTo({top:0, behavior:'smooth'});
  }

  function route(){
    const hash = location.hash.replace('#','')||'home';
    showView(hash);
  }

  window.addEventListener('hashchange', route);
  route();

  navLinks.forEach(a=>{
    a.addEventListener('click', e=>{
      e.preventDefault();
      location.hash = a.dataset.target;
    });
  });

  // 人物角色切換
  document.querySelectorAll('.tabs .tab[data-char]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      document.querySelectorAll('.tabs .tab[data-char]').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      document.getElementById('char-sima').style.display=btn.dataset.char==='sima'?'block':'none';
      document.getElementById('char-lin').style.display=btn.dataset.char==='lin'?'block':'none';
    });
  });

  // 人物世界觀切換
  document.querySelectorAll('#char-sima .tabs .tab').forEach(tab=>{
    tab.addEventListener('click', ()=>{
      document.querySelectorAll('#char-sima .tabs .tab').forEach(t=>t.classList.remove('active'));
      tab.classList.add('active');
      ['sima-wei','sima-modern','sima-shan'].forEach(id=>document.getElementById(id).classList.remove('active'));
      document.getElementById('sima-'+tab.dataset.world).classList.add('active');
    });
  });
  document.querySelectorAll('#char-lin .tabs .tab').forEach(tab=>{
    tab.addEventListener('click', ()=>{
      document.querySelectorAll('#char-lin .tabs .tab').forEach(t=>t.classList.remove('active'));
      tab.classList.add('active');
      ['lin-wei','lin-modern','lin-shan'].forEach(id=>document.getElementById(id).classList.remove('active'));
      document.getElementById(tab.dataset.world).classList.add('active');
    });
  });

  // Lightbox 圖片放大
  const lightbox = document.getElementById('lightbox');
  const lightboxImg = lightbox.querySelector('img');
  document.querySelectorAll('#gallery .card img').forEach(img=>{
    img.addEventListener('click', ()=>{
      lightboxImg.src = img.src;
      lightbox.style.display='flex';
    });
  });
  lightbox.addEventListener('click', e=>{ if(e.target===lightbox) lightbox.style.display='none'; });
  document.addEventListener('keydown', e=>{ if(e.key==='Escape') lightbox.style.display='none'; });
</script>
</div>
</body>
</html>
